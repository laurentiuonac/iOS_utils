//
//  OLViewController.m
//  PhotoElement
//
//  Created by Laurentiu on 18/9/12.
//  Copyright (c) 2012 Laurentiu. All rights reserved.
//

#import "OLViewController.h"
#import "OLPhotoElementView.h"


////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
@interface OLViewController ()

@property (nonatomic, strong) OLPhotoElementView *photoView;
@property NSInteger counter;

@end


////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
@implementation OLViewController


////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - Lifecycle


////////////////////////////////////////////////////////////////////////////////////////////////////
- (void)viewDidLoad
{
  [super viewDidLoad];
  
  self.photoView = [[OLPhotoElementView alloc] initWithFrame:_elementContainer.bounds];
  [_photoView setInitialImage:[UIImage imageNamed:@"1.jpg"]];
  [_elementContainer addSubview:_photoView];
  
  _counter = 0;
  [NSTimer scheduledTimerWithTimeInterval:3
                                   target:self
                                 selector:@selector(changePhoto:)
                                 userInfo:nil
                                  repeats:YES];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
- (void)viewDidUnload
{
  [super viewDidUnload];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
  return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);
}


////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark - Timer action


////////////////////////////////////////////////////////////////////////////////////////////////////
- (void)changePhoto:(id)sender
{
  if (_counter % 2 == 0) {
    [_photoView changeImage:[UIImage imageNamed:@"2.jpg"]];
  } else {
    [_photoView changeImage:[UIImage imageNamed:@"1.jpg"]];
  }
  
  _counter++;
}


@end
